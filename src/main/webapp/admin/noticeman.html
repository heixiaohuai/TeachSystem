<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>公告管理页面</title>
	<link href="../umeditor/themes/default/css/umeditor.css" type="text/css" rel="stylesheet">
	<script type="text/javascript" src="../umeditor/third-party/jquery.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="../umeditor/umeditor.config.js"></script>
	<script type="text/javascript" charset="utf-8" src="../umeditor/umeditor.min.js"></script>
	<script type="text/javascript" src="../umeditor/lang/zh-cn/zh-cn.js"></script>

	<style type="text/css">
		div{
			margin:0px auto;
		}
		div h2{
			margin-left: 114px;
			color: rgb(56, 163, 213);
		}
		div button{
			width: 200px;
			height: 35px;
			background: url(../images/formbtnbg.png);
			border: none;
			border-radius: 3px;
			color: #fff;
			font-size: 16px;
			cursor: pointer;
			font-family: 'Microsoft Yahei','微软雅黑';
			margin-left: 114px;
			margin-top: 10px;
		}

		#editor{
			width: 900px;
			height: 300px;
		}
	</style>
</head>
<body>
<div>
	<h2>发布公告</h2>
	<script id="editor" type="text/plain"></script>
    <button>发送</button>
</div>


    <script type="text/javascript">
    //实例化编辑器
    //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
    var um = UM.getEditor('editor');

    var ws=new WebSocket("ws://localhost:8080/TeachSystem/msgServer");

    ws.onopen=function(){

    }

    ws.onclose=function(){

    }

    ws.onmessage=function(message){

    }

    $("button").click(function(){
        var htmlMsg = um.getAllHtml(); //获取html
        ws.send(htmlMsg);
        um.setContent('', false);//清空
        um.focus(); //获得焦点
    });
	</script>
</body>
</html>